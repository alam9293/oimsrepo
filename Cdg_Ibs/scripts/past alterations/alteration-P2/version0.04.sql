/*************************************
 * INSERT MASTER DATA FOR PAYMENT TYPE
 * ***********************************/
-- APT : Acquirer Payment Type
INSERT INTO MSTB_MASTER_TABLE (MASTER_NO,MASTER_TYPE,MASTER_CODE,INTERFACE_MAPPING_VALUE,MASTER_VALUE,MASTER_STATUS,VERSION) 
VALUES (MSTB_MASTER_TABLE_SQ1.nextVal,'APT','V',null,'VISA','A',0);
INSERT INTO MSTB_MASTER_TABLE (MASTER_NO,MASTER_TYPE,MASTER_CODE,INTERFACE_MAPPING_VALUE,MASTER_VALUE,MASTER_STATUS,VERSION)
VALUES (MSTB_MASTER_TABLE_SQ1.nextVal,'APT','M',null,'MASTER','A',0);
INSERT INTO MSTB_MASTER_TABLE (MASTER_NO,MASTER_TYPE,MASTER_CODE,INTERFACE_MAPPING_VALUE,MASTER_VALUE,MASTER_STATUS,VERSION)
VALUES (MSTB_MASTER_TABLE_SQ1.nextVal,'APT','N',null,'NETS','A',0);
INSERT INTO MSTB_MASTER_TABLE (MASTER_NO,MASTER_TYPE,MASTER_CODE,INTERFACE_MAPPING_VALUE,MASTER_VALUE,MASTER_STATUS,VERSION)
VALUES (MSTB_MASTER_TABLE_SQ1.nextVal,'APT','D',null,'DINERS','A',0);
INSERT INTO MSTB_MASTER_TABLE (MASTER_NO,MASTER_TYPE,MASTER_CODE,INTERFACE_MAPPING_VALUE,MASTER_VALUE,MASTER_STATUS,VERSION)
VALUES (MSTB_MASTER_TABLE_SQ1.nextVal,'APT','A',null,'AMEX','I',0);
INSERT INTO MSTB_MASTER_TABLE (MASTER_NO,MASTER_TYPE,MASTER_CODE,INTERFACE_MAPPING_VALUE,MASTER_VALUE,MASTER_STATUS,VERSION)
VALUES (MSTB_MASTER_TABLE_SQ1.nextVal,'APT','J',null,'JCB','I',0);`

/************************************************
 * INSERT MASTER DATA FOR NON BILLABLE CHARGEBACK
 * **********************************************/
-- CBT : Chargeback Type
INSERT INTO MSTB_MASTER_TABLE (MASTER_NO,MASTER_TYPE,MASTER_CODE,INTERFACE_MAPPING_VALUE,MASTER_VALUE,MASTER_STATUS,VERSION) 
VALUES (MSTB_MASTER_TABLE_SQ1.nextVal,'CBT','R',null,'REFUND','A',0);
INSERT INTO MSTB_MASTER_TABLE (MASTER_NO,MASTER_TYPE,MASTER_CODE,INTERFACE_MAPPING_VALUE,MASTER_VALUE,MASTER_STATUS,VERSION) 
VALUES (MSTB_MASTER_TABLE_SQ1.nextVal,'CBT','E',null,'ERROR REPORT','A',0);
INSERT INTO MSTB_MASTER_TABLE (MASTER_NO,MASTER_TYPE,MASTER_CODE,INTERFACE_MAPPING_VALUE,MASTER_VALUE,MASTER_STATUS,VERSION) 
VALUES (MSTB_MASTER_TABLE_SQ1.nextVal,'CBT','C',null,'CHARGEBACK REPORT','A',0);

-- CBR : Chargeback Reason
INSERT INTO MSTB_MASTER_TABLE (MASTER_NO,MASTER_TYPE,MASTER_CODE,INTERFACE_MAPPING_VALUE,MASTER_VALUE,MASTER_STATUS,VERSION) 
VALUES (MSTB_MASTER_TABLE_SQ1.nextVal,'CBR','1',null,'SALES DRAFT CANNOT BE RETRIEVED','A',0);
INSERT INTO MSTB_MASTER_TABLE (MASTER_NO,MASTER_TYPE,MASTER_CODE,INTERFACE_MAPPING_VALUE,MASTER_VALUE,MASTER_STATUS,VERSION) 
VALUES (MSTB_MASTER_TABLE_SQ1.nextVal,'CBR','2',null,'DRIVER COLLECTED CASH','A',0);
INSERT INTO MSTB_MASTER_TABLE (MASTER_NO,MASTER_TYPE,MASTER_CODE,INTERFACE_MAPPING_VALUE,MASTER_VALUE,MASTER_STATUS,VERSION) 
VALUES (MSTB_MASTER_TABLE_SQ1.nextVal,'CBR','3',null,'PASSENGER PAID CASH','A',0);
INSERT INTO MSTB_MASTER_TABLE (MASTER_NO,MASTER_TYPE,MASTER_CODE,INTERFACE_MAPPING_VALUE,MASTER_VALUE,MASTER_STATUS,VERSION) 
VALUES (MSTB_MASTER_TABLE_SQ1.nextVal,'CBR','4',null,'DOUBLE TRANSACTION','A',0);
INSERT INTO MSTB_MASTER_TABLE (MASTER_NO,MASTER_TYPE,MASTER_CODE,INTERFACE_MAPPING_VALUE,MASTER_VALUE,MASTER_STATUS,VERSION) 
VALUES (MSTB_MASTER_TABLE_SQ1.nextVal,'CBR','5',null,'MULTIPLE TRANSACTION','A',0);

/****************************
 * Non Billable Trips Feature
 * **************************/
create table mstb_acquirer(
	acquirer_no number(8) primary key,
	name varchar2(80) not null,
	CREATED_DT timestamp, 
    CREATED_BY varchar2(80), 
    UPDATED_DT timestamp, 
    UPDATED_BY varchar2(80),
	version number(9) default 0
);
CREATE SEQUENCE mstb_acquirer_SQ1 MINVALUE 1 MAXVALUE 99999999 INCREMENT BY 1 START WITH 1 CACHE 10 NOORDER  NOCYCLE ;

create table mstb_acquirer_mdr(
	mdr_no number(8) primary key,
	acquirer_no number(8) not null,
	Effective_Date date not null,
	rate number(4,2) not null,
	CREATED_DT timestamp, 
    CREATED_BY varchar2(80), 
    UPDATED_DT timestamp, 
    UPDATED_BY varchar2(80),
	version number(9) default 0
);
CREATE SEQUENCE mstb_acquirer_mdr_SQ1 MINVALUE 1 MAXVALUE 99999999 INCREMENT BY 1 START WITH 1 CACHE 10 NOORDER  NOCYCLE ;
ALTER TABLE mstb_acquirer_mdr ADD CONSTRAINT mstb_acquirer_mdr_FK1 FOREIGN KEY (acquirer_no) REFERENCES mstb_acquirer (acquirer_no) ENABLE;

create table mstb_acquirer_pymt_type(
	pymt_type_no number(8) primary key,
	acquirer_no number(8) not null,
	name varchar2(80) not null,
	value varchar2(1) not null,
	EFFECTIVE_DT_FROM timestamp not null,
	EFFECTIVE_DT_TO timestamp,
	remarks varchar2(500),
	CREATED_DT timestamp, 
    CREATED_BY varchar2(80), 
    UPDATED_DT timestamp, 
    UPDATED_BY varchar2(80),
	version number(9) default 0
);
CREATE SEQUENCE mstb_acquirer_pymt_type_SQ1 MINVALUE 1 MAXVALUE 99999999 INCREMENT BY 1 START WITH 1 CACHE 10 NOORDER  NOCYCLE ;
ALTER TABLE mstb_acquirer_pymt_type ADD CONSTRAINT mstb_acquirer_pymt_type_FK1 FOREIGN KEY (acquirer_no) REFERENCES mstb_acquirer (acquirer_no) ENABLE;

create table tmtb_non_billable_batch(
	batch_id number(18) primary key,
	batch_no varchar2(6) not null,
	acquirer_no number(8) not null,
	settlement_date date not null,
	status varchar2(1) not null,
	mid varchar2(15),
	tid varchar2(8),
	txn_count number(18) not null,
	txn_amt number(19,2) not null,
	credit_count number(18),
	credit_amt number(19,2),
	CREATED_DT timestamp,
	CREATED_BY varchar2(80),
	UPDATED_DT timestamp,
	UPDATED_BY varchar2(80),
	version number(9) default 0
);
CREATE SEQUENCE tmtb_non_billable_batch_SQ1 MINVALUE 1 MAXVALUE 999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 10 NOORDER  NOCYCLE ;
CREATE SEQUENCE tmtb_non_billable_batch_SQ2 MINVALUE 1 MAXVALUE 99999 INCREMENT BY 1 START WITH 1 CACHE 10 NOORDER  NOCYCLE ;
ALTER TABLE tmtb_non_billable_batch ADD CONSTRAINT tmtb_non_billable_batch_FK1 FOREIGN KEY (acquirer_no) REFERENCES mstb_acquirer (acquirer_no) ENABLE;
ALTER TABLE tmtb_non_billable_batch ADD CONSTRAINT tmct_non_billable_batch_U1 UNIQUE(batch_no, settlement_date) ENABLE;

create table tmtb_non_billable_txn(
	txn_no number(22) primary key,
	batch_id number(18) not null,
	pymt_type_no number(8) not null,
	status varchar2(1) not null,
	job_no varchar2(10) not null,
	taxi_no varchar2(10) not null,
	NRIC varchar2(15) not null,
	SERVICE_PROVIDER number(8) not null,
	TRIP_START_DT timestamp not null,
	TRIP_END_DT timestamp not null,
	card_no varchar2(19),
	fare_amt number(12,2) not null,
	admin_fee number(12,2) not null,
	gst number(12,2) not null,
	total number(12,2) not null,
	vehicle_type varchar2(80),
	remarks varchar2(500),
	chargeback_date date,
	chargeback_reason number(8),
	chargeback_type number(8),
	chargeback_amt number(12,2),
	job_type number(8),
	PICKUP_ADDRESS VARCHAR2(255) NOT NULL,
	DESTINATION VARCHAR2(255),
	LEVY NUMBER(12,2),
	UPDATE_FMS VARCHAR2(80),
	FMS_AMT NUMBER(12,2),
	FMS_FLAG VARCHAR2(1),
	CREATED_DT timestamp, 
    CREATED_BY varchar2(80), 
    UPDATED_DT timestamp, 
    UPDATED_BY varchar2(80), 
	version number(9) default 0
);
ALTER TABLE tmtb_non_billable_txn ADD CONSTRAINT tmtb_non_billable_txn_FK1 FOREIGN KEY (batch_id) REFERENCES tmtb_non_billable_batch (batch_id) ENABLE;
ALTER TABLE tmtb_non_billable_txn ADD CONSTRAINT tmtb_non_billable_txn_FK2 FOREIGN KEY (pymt_type_no) REFERENCES mstb_acquirer_pymt_type (pymt_type_no) ENABLE;
ALTER TABLE tmtb_non_billable_txn ADD CONSTRAINT tmtb_non_billable_txn_FK3 FOREIGN KEY (SERVICE_PROVIDER) REFERENCES mstb_master_table (master_no) ENABLE;
ALTER TABLE tmtb_non_billable_txn ADD CONSTRAINT tmtb_non_billable_txn_FK4 FOREIGN KEY (chargeback_reason) REFERENCES mstb_master_table (master_no) ENABLE;
ALTER TABLE tmtb_non_billable_txn ADD CONSTRAINT tmtb_non_billable_txn_FK5 FOREIGN KEY (chargeback_type) REFERENCES mstb_master_table (master_no) ENABLE;
ALTER TABLE tmtb_non_billable_txn ADD CONSTRAINT tmtb_non_billable_txn_FK6 FOREIGN KEY (job_type) REFERENCES mstb_master_table (master_no) ENABLE;

create table BMTB_BANK_PAYMENT(
	payment_no number(18) primary key,
	txn_ref_no varchar2(30),
	credit_date date not null,
	collection_amount number(12,2) not null,
	total_txn_amount number(12,2) not null,
	rejected_amount number(12,2) not null,
	mdr_percentage number(4,2) not null,
	mdr_value number(12,2) not null,
	mdr_adjustment number(12,2) not null,
	chargeback_amount number(12,2) not null,
	BANK_IN NUMBER(8) not null,
	remarks varchar2(500),
	CREATED_DT timestamp, 
    CREATED_BY varchar2(80), 
    UPDATED_DT timestamp, 
    UPDATED_BY varchar2(80),
	version number(9) default 0
);
CREATE SEQUENCE BMTB_BANK_PAYMENT_SQ1 MINVALUE 1 MAXVALUE 999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 10 NOORDER  NOCYCLE ;
ALTER TABLE BMTB_BANK_PAYMENT ADD CONSTRAINT BMTB_BANK_PAYMENT_FK1 FOREIGN KEY(BANK_IN) REFERENCES FMTB_BANK_CODE(BANK_CODE_NO) ENABLE;

create table BMTB_BANK_PAYMENT_DETAIL(
	payment_detail_no number(18) primary key,
	payment_no number(18) not null,
	batch_id number(18) not null,
	CREATED_DT timestamp, 
    CREATED_BY varchar2(80), 
    UPDATED_DT timestamp, 
    UPDATED_BY varchar2(80),
	version number(9) default 0
);
CREATE SEQUENCE BMTB_BANK_PAYMENT_DETAIL_SQ1 MINVALUE 1 MAXVALUE 999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 10 NOORDER  NOCYCLE ;
ALTER TABLE BMTB_BANK_PAYMENT_DETAIL ADD CONSTRAINT BMTB_BANK_PAYMENT_DETAIL_FK1 FOREIGN KEY (batch_id) REFERENCES tmtb_non_billable_batch (batch_id) ENABLE;
ALTER TABLE BMTB_BANK_PAYMENT_DETAIL ADD CONSTRAINT BMTB_BANK_PAYMENT_DETAIL_FK2 FOREIGN KEY (payment_no) REFERENCES BMTB_BANK_PAYMENT (payment_no) ENABLE;

create table FMTB_NON_BILLABLE_MASTER(
	master_no number(8) primary key,
	pymt_type varchar2(1) not null,
	SERVICE_PROVIDER number(8) not null,
	CREATED_DT timestamp, 
    CREATED_BY varchar2(80), 
    UPDATED_DT timestamp, 
    UPDATED_BY varchar2(80),
	version number(9) default 0,
	
	CONSTRAINT FMTB_NON_BILLABLE_MASTER_FK1 FOREIGN KEY(SERVICE_PROVIDER) REFERENCES mstb_master_table (master_no)
);
CREATE SEQUENCE FMTB_NON_BILLABLE_MASTER_SQ1 MINVALUE 1 MAXVALUE 99999999 INCREMENT BY 1 START WITH 1 CACHE 10 NOORDER  NOCYCLE ;

create table FMTB_NON_BILLABLE_DETAIL(
	detail_no number(8) primary key,
	master_no number(8) not null,
	AR_CONTROL_CODE_NO NUMBER(8) not null,
	fare_amount_txn_code VARCHAR2(10) NOT NULL,
	admin_fee_txn_code VARCHAR2(10) NOT NULL,
	Effective_Date date not null,
	CREATED_DT timestamp, 
    CREATED_BY varchar2(80), 
    UPDATED_DT timestamp, 
    UPDATED_BY varchar2(80),
	version number(9) default 0,
	
	CONSTRAINT FMTB_NON_BILLABLE_DETAIL_FK1 FOREIGN KEY(master_no) REFERENCES FMTB_NON_BILLABLE_MASTER(master_no),
	CONSTRAINT FMTB_NON_BILLABLE_DETAIL_FK2 FOREIGN KEY(AR_CONTROL_CODE_NO) REFERENCES FMTB_AR_CONT_CODE_MASTER(AR_CONTROL_CODE_NO)
);
CREATE SEQUENCE FMTB_NON_BILLABLE_DETAIL_SQ1 MINVALUE 1 MAXVALUE 99999999 INCREMENT BY 1 START WITH 1 CACHE 10 NOORDER  NOCYCLE ;

create table FMTB_BANK_PAYMENT_MASTER(
	master_no number(8) primary key,
	pymt_type varchar2(1) not null,
	CREATED_DT timestamp, 
    CREATED_BY varchar2(80), 
    UPDATED_DT timestamp, 
    UPDATED_BY varchar2(80),
	version number(9) default 0
);
CREATE SEQUENCE FMTB_BANK_PAYMENT_MASTER_SQ1 MINVALUE 1 MAXVALUE 99999999 INCREMENT BY 1 START WITH 1 CACHE 10 NOORDER  NOCYCLE ;

create table FMTB_BANK_PAYMENT_DETAIL(
	detail_no number(8) primary key,
	master_no number(8) not null,
	AR_CONTROL_CODE_NO NUMBER(8) not null,
	mdr_txn_code VARCHAR2(10) NOT NULL,
	mdr_adj_txn_code VARCHAR2(10) NOT NULL,
	Effective_Date date not null,
	CREATED_DT timestamp, 
    CREATED_BY varchar2(80), 
    UPDATED_DT timestamp, 
    UPDATED_BY varchar2(80),
	version number(9) default 0,
	
	CONSTRAINT FMTB_BANK_PAYMENT_DETAIL_FK1 FOREIGN KEY(master_no) REFERENCES FMTB_BANK_PAYMENT_MASTER(master_no),
	CONSTRAINT FMTB_BANK_PAYMENT_DETAIL_FK2 FOREIGN KEY(AR_CONTROL_CODE_NO) REFERENCES FMTB_AR_CONT_CODE_MASTER(AR_CONTROL_CODE_NO)
);
CREATE SEQUENCE FMTB_BANK_PAYMENT_DETAIL_SQ1 MINVALUE 1 MAXVALUE 99999999 INCREMENT BY 1 START WITH 1 CACHE 10 NOORDER  NOCYCLE ;

-- TEST DATA (Feel free to use them)
/*

*************************
* ACQUIRER & PAYMENT TYPE
*************************
insert into mstb_acquirer values(1, 'DBS', null,null,null,null,0);
insert into mstb_acquirer values(2, 'AMEX', null,null,null,null,0);
insert into mstb_acquirer values(3, 'DINERS', null,null,null,null,0);
insert into mstb_acquirer values(4, 'JCB', null,null,null,null,0);
insert into mstb_acquirer values(5, 'NETS', null,null,null,null,0);

insert into mstb_acquirer_pymt_type values (1, 1, 'VISA', 'V', to_date('01-JAN-2009'), to_date('31-DEC-2009'), null,null,null,null,null,0);
insert into mstb_acquirer_pymt_type values (2, 1, 'VISA', 'V', to_date('01-JAN-2010'), to_date('31-DEC-2010'), null,null,null,null,null,0);
insert into mstb_acquirer_pymt_type values (3, 1, 'VISA', 'V', to_date('01-JAN-2011'), to_date('31-DEC-2011'), null,null,null,null,null,0);
insert into mstb_acquirer_pymt_type values (4, 1, 'MASTER', 'M', to_date('01-JAN-2010'), null, null,null,null,null,null,0);
insert into mstb_acquirer_pymt_type values (5, 2, 'AMEX', 'A', to_date('01-JAN-2009'), null, null,null,null,null,null,0);
insert into mstb_acquirer_pymt_type values (6, 3, 'DINERS', 'D', to_date('01-JAN-2009'), to_date('31-DEC-2009'), null,null,null,null,null,0);
insert into mstb_acquirer_pymt_type values (7, 4, 'JCB', 'J', to_date('01-JAN-2009'), to_date('31-DEC-2011'), null,null,null,null,null,0);
insert into mstb_acquirer_pymt_type values (8, 5, 'NETS', 'N', to_date('01-JAN-2009'), null, null,null,null,null,null,0);

*******************************************
* GL CODE FOR NON BILLABLE AND BANK PAYMENT
*******************************************
TXN TYPE IS USED TO DETERMINE THE DROPDOWN LIST FOR MASTER SCREEN FOR NON BILLABLE GL MAPPING AND BANK PAYMENT ADVISE GL MAPPING
'NF' - NON BILLABLE FARE AMOUNT
'NA' - NON BILLABLE ADMIN FEE
'NC' - NON BILLABLE CHARGEBACK
'MR' - BANK PAYMENT ADVISE MDR

INSERT INTO FMTB_TRANSACTION_CODE (TRANSACTION_CODE_NO,ENTITY_NO,PRODUCT_TYPE_ID,TXN_CODE,DESCRIPTION,TXN_TYPE,GL_CODE,COST_CENTRE,DISCOUNTABLE,DISCOUNT_GL_CODE,DISCOUNT_COST_CENTRE,EFFECTIVE_DATE,TAX_TYPE,IS_MANUAL,VERSION)
VALUES (FMTB_TRANSACTION_CODE_SQ1.nextVal,1,null,'NBCCTF','NON BILLABLE (CREDIT CARD)- TAXI FARE','NF','308329','BCCACCA0','N',null,null,sysdate,46,'N',0);
INSERT INTO FMTB_TRANSACTION_CODE (TRANSACTION_CODE_NO,ENTITY_NO,PRODUCT_TYPE_ID,TXN_CODE,DESCRIPTION,TXN_TYPE,GL_CODE,COST_CENTRE,DISCOUNTABLE,DISCOUNT_GL_CODE,DISCOUNT_COST_CENTRE,EFFECTIVE_DATE,TAX_TYPE,IS_MANUAL,VERSION)
VALUES (FMTB_TRANSACTION_CODE_SQ1.nextVal,1,null,'NBCCAF','NON BILLABLE (CREDIT CARD)- ADMIN FEE','NA','308329','BCCACCA0','N',null,null,sysdate,46,'N',0);
INSERT INTO FMTB_TRANSACTION_CODE (TRANSACTION_CODE_NO,ENTITY_NO,PRODUCT_TYPE_ID,TXN_CODE,DESCRIPTION,TXN_TYPE,GL_CODE,COST_CENTRE,DISCOUNTABLE,DISCOUNT_GL_CODE,DISCOUNT_COST_CENTRE,EFFECTIVE_DATE,TAX_TYPE,IS_MANUAL,VERSION)
VALUES (FMTB_TRANSACTION_CODE_SQ1.nextVal,1,null,'BPCCMDR','BANK PAYMENT (CREDIT CARD)- MDR','MR','308329','BCCACCA0','N',null,null,sysdate,46,'N',0);
INSERT INTO FMTB_TRANSACTION_CODE (TRANSACTION_CODE_NO,ENTITY_NO,PRODUCT_TYPE_ID,TXN_CODE,DESCRIPTION,TXN_TYPE,GL_CODE,COST_CENTRE,DISCOUNTABLE,DISCOUNT_GL_CODE,DISCOUNT_COST_CENTRE,EFFECTIVE_DATE,TAX_TYPE,IS_MANUAL,VERSION)
VALUES (FMTB_TRANSACTION_CODE_SQ1.nextVal,1,null,'BPCCMDRA','BANK PAYMENT (CREDIT CARD)- MDR ADJUSTMENT','MA','308329','BCCACCA0','N',null,null,sysdate,46,'N',0);

INSERT INTO FMTB_TRANSACTION_CODE (TRANSACTION_CODE_NO,ENTITY_NO,PRODUCT_TYPE_ID,TXN_CODE,DESCRIPTION,TXN_TYPE,GL_CODE,COST_CENTRE,DISCOUNTABLE,DISCOUNT_GL_CODE,DISCOUNT_COST_CENTRE,EFFECTIVE_DATE,TAX_TYPE,IS_MANUAL,VERSION)
VALUES (FMTB_TRANSACTION_CODE_SQ1.nextVal,1,null,'NBNSTF','NON BILLABLE (NETS)- TAXI FARE','NF','308329','BCCACCA0','N',null,null,sysdate,46,'N',0);
INSERT INTO FMTB_TRANSACTION_CODE (TRANSACTION_CODE_NO,ENTITY_NO,PRODUCT_TYPE_ID,TXN_CODE,DESCRIPTION,TXN_TYPE,GL_CODE,COST_CENTRE,DISCOUNTABLE,DISCOUNT_GL_CODE,DISCOUNT_COST_CENTRE,EFFECTIVE_DATE,TAX_TYPE,IS_MANUAL,VERSION)
VALUES (FMTB_TRANSACTION_CODE_SQ1.nextVal,1,null,'NBNSAF','NON BILLABLE (NETS)- ADMIN FEE','NA','308329','BCCACCA0','N',null,null,sysdate,46,'N',0);
INSERT INTO FMTB_TRANSACTION_CODE (TRANSACTION_CODE_NO,ENTITY_NO,PRODUCT_TYPE_ID,TXN_CODE,DESCRIPTION,TXN_TYPE,GL_CODE,COST_CENTRE,DISCOUNTABLE,DISCOUNT_GL_CODE,DISCOUNT_COST_CENTRE,EFFECTIVE_DATE,TAX_TYPE,IS_MANUAL,VERSION)
VALUES (FMTB_TRANSACTION_CODE_SQ1.nextVal,1,null,'BPNSMDR','BANK PAYMENT (NETS)- MDR','MR','308329','BCCACCA0','N',null,null,sysdate,46,'N',0);
INSERT INTO FMTB_TRANSACTION_CODE (TRANSACTION_CODE_NO,ENTITY_NO,PRODUCT_TYPE_ID,TXN_CODE,DESCRIPTION,TXN_TYPE,GL_CODE,COST_CENTRE,DISCOUNTABLE,DISCOUNT_GL_CODE,DISCOUNT_COST_CENTRE,EFFECTIVE_DATE,TAX_TYPE,IS_MANUAL,VERSION)
VALUES (FMTB_TRANSACTION_CODE_SQ1.nextVal,1,null,'BPNSMDRA','BANK PAYMENT (NETS)- MDR ADJUSTMENT','MA','308329','BCCACCA0','N',null,null,sysdate,46,'N',0);


******************
* MDR FOR ACQUIRER
******************
INSERT INTO MSTB_ACQUIRER_MDR (MDR_NO,ACQUIRER_NO,EFFECTIVE_DATE,RATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) VALUES
(MSTB_ACQUIRER_MDR_SQ1.nextVal,1,TO_DATE('01-JAN-2009'),2,NULL,NULL,NULL,NULL,0);
INSERT INTO MSTB_ACQUIRER_MDR (MDR_NO,ACQUIRER_NO,EFFECTIVE_DATE,RATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) VALUES
(MSTB_ACQUIRER_MDR_SQ1.nextVal,1,TO_DATE('01-JAN-2010'),3,NULL,NULL,NULL,NULL,0);
INSERT INTO MSTB_ACQUIRER_MDR (MDR_NO,ACQUIRER_NO,EFFECTIVE_DATE,RATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) VALUES
(MSTB_ACQUIRER_MDR_SQ1.nextVal,2,TO_DATE('01-JAN-2009'),2,NULL,NULL,NULL,NULL,0);
INSERT INTO MSTB_ACQUIRER_MDR (MDR_NO,ACQUIRER_NO,EFFECTIVE_DATE,RATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) VALUES
(MSTB_ACQUIRER_MDR_SQ1.nextVal,2,TO_DATE('01-JAN-2010'),3,NULL,NULL,NULL,NULL,0);
INSERT INTO MSTB_ACQUIRER_MDR (MDR_NO,ACQUIRER_NO,EFFECTIVE_DATE,RATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) VALUES
(MSTB_ACQUIRER_MDR_SQ1.nextVal,3,TO_DATE('01-JAN-2009'),2,NULL,NULL,NULL,NULL,0);
INSERT INTO MSTB_ACQUIRER_MDR (MDR_NO,ACQUIRER_NO,EFFECTIVE_DATE,RATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) VALUES
(MSTB_ACQUIRER_MDR_SQ1.nextVal,3,TO_DATE('01-JAN-2010'),3,NULL,NULL,NULL,NULL,0);
INSERT INTO MSTB_ACQUIRER_MDR (MDR_NO,ACQUIRER_NO,EFFECTIVE_DATE,RATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) VALUES
(MSTB_ACQUIRER_MDR_SQ1.nextVal,4,TO_DATE('01-JAN-2009'),2,NULL,NULL,NULL,NULL,0);
INSERT INTO MSTB_ACQUIRER_MDR (MDR_NO,ACQUIRER_NO,EFFECTIVE_DATE,RATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) VALUES
(MSTB_ACQUIRER_MDR_SQ1.nextVal,4,TO_DATE('01-JAN-2010'),3,NULL,NULL,NULL,NULL,0);
INSERT INTO MSTB_ACQUIRER_MDR (MDR_NO,ACQUIRER_NO,EFFECTIVE_DATE,RATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) VALUES
(MSTB_ACQUIRER_MDR_SQ1.nextVal,5,TO_DATE('01-JAN-2009'),0,NULL,NULL,NULL,NULL,0);

*****************************
* GL MAPPING FOR BANK PAYMENT
*****************************
INSERT INTO FMTB_BANK_PAYMENT_MASTER (MASTER_NO,PYMT_TYPE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (1,'V',NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_BANK_PAYMENT_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,MDR_TXN_CODE,MDR_ADJ_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_BANK_PAYMENT_DETAIL_SQ1.nextVal,1,2,'BPCCMDR','BPCCMDRA',to_date('01-JAN-2009'),NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_BANK_PAYMENT_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,MDR_TXN_CODE,MDR_ADJ_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_BANK_PAYMENT_DETAIL_SQ1.nextVal,1,1,'BPCCMDR','BPCCMDRA',to_date('01-JAN-2010'),NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_BANK_PAYMENT_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,MDR_TXN_CODE,MDR_ADJ_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_BANK_PAYMENT_DETAIL_SQ1.nextVal,1,1,'BPCCMDR','BPCCMDRA',to_date('01-JAN-2011'),NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_BANK_PAYMENT_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,MDR_TXN_CODE,MDR_ADJ_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_BANK_PAYMENT_DETAIL_SQ1.nextVal,1,1,'BPCCMDR','BPCCMDRA',to_date('01-JAN-2008'),NULL,NULL,NULL,NULL,0);

INSERT INTO FMTB_BANK_PAYMENT_MASTER (MASTER_NO,PYMT_TYPE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (2,'M',NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_BANK_PAYMENT_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,MDR_TXN_CODE,MDR_ADJ_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_BANK_PAYMENT_DETAIL_SQ1.nextVal,2,2,'BPCCMDR','BPCCMDRA',to_date('01-JAN-2009'),NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_BANK_PAYMENT_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,MDR_TXN_CODE,MDR_ADJ_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_BANK_PAYMENT_DETAIL_SQ1.nextVal,2,1,'BPCCMDR','BPCCMDRA',to_date('01-JAN-2010'),NULL,NULL,NULL,NULL,0);

INSERT INTO FMTB_BANK_PAYMENT_MASTER (MASTER_NO,PYMT_TYPE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (3,'D',NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_BANK_PAYMENT_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,MDR_TXN_CODE,MDR_ADJ_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_BANK_PAYMENT_DETAIL_SQ1.nextVal,3,2,'BPCCMDR','BPCCMDRA',to_date('01-JAN-2009'),NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_BANK_PAYMENT_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,MDR_TXN_CODE,MDR_ADJ_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_BANK_PAYMENT_DETAIL_SQ1.nextVal,3,1,'BPCCMDR','BPCCMDRA',to_date('01-JAN-2010'),NULL,NULL,NULL,NULL,0);

INSERT INTO FMTB_BANK_PAYMENT_MASTER (MASTER_NO,PYMT_TYPE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (4,'A',NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_BANK_PAYMENT_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,MDR_TXN_CODE,MDR_ADJ_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_BANK_PAYMENT_DETAIL_SQ1.nextVal,4,2,'BPCCMDR','BPCCMDRA',to_date('01-JAN-2009'),NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_BANK_PAYMENT_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,MDR_TXN_CODE,MDR_ADJ_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_BANK_PAYMENT_DETAIL_SQ1.nextVal,4,1,'BPCCMDR','BPCCMDRA',to_date('01-JAN-2010'),NULL,NULL,NULL,NULL,0);

INSERT INTO FMTB_BANK_PAYMENT_MASTER (MASTER_NO,PYMT_TYPE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (5,'J',NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_BANK_PAYMENT_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,MDR_TXN_CODE,MDR_ADJ_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_BANK_PAYMENT_DETAIL_SQ1.nextVal,5,2,'BPCCMDR','BPCCMDRA',to_date('01-JAN-2009'),NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_BANK_PAYMENT_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,MDR_TXN_CODE,MDR_ADJ_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_BANK_PAYMENT_DETAIL_SQ1.nextVal,5,1,'BPCCMDR','BPCCMDRA',to_date('01-JAN-2010'),NULL,NULL,NULL,NULL,0);

INSERT INTO FMTB_BANK_PAYMENT_MASTER (MASTER_NO,PYMT_TYPE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (6,'N',NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_BANK_PAYMENT_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,MDR_TXN_CODE,MDR_ADJ_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_BANK_PAYMENT_DETAIL_SQ1.nextVal,6,2,'BPNSMDR','BPNSMDRA',to_date('01-JAN-2009'),NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_BANK_PAYMENT_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,MDR_TXN_CODE,MDR_ADJ_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_BANK_PAYMENT_DETAIL_SQ1.nextVal,6,1,'BPNSMDR','BPNSMDRA',to_date('01-JAN-2010'),NULL,NULL,NULL,NULL,0);

*****************************
* GL MAPPING FOR NON BILLABLE
*****************************
* Our Development Database has 2 Service Providers

INSERT INTO FMTB_NON_BILLABLE_MASTER (MASTER_NO,PYMT_TYPE,SERVICE_PROVIDER,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (1,'V',78,NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_NON_BILLABLE_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,FARE_AMOUNT_TXN_CODE,ADMIN_FEE_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_NON_BILLABLE_DETAIL_SQ1.nextVal,1,2,'NBCCTF','NBCCAF',to_date('01-JAN-2009'),NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_NON_BILLABLE_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,FARE_AMOUNT_TXN_CODE,ADMIN_FEE_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_NON_BILLABLE_DETAIL_SQ1.nextVal,1,1,'NBCCTF','NBCCAF',to_date('01-JAN-2010'),NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_NON_BILLABLE_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,FARE_AMOUNT_TXN_CODE,ADMIN_FEE_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_NON_BILLABLE_DETAIL_SQ1.nextVal,1,1,'NBCCTF','NBCCAF',to_date('01-JAN-2008'),NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_NON_BILLABLE_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,FARE_AMOUNT_TXN_CODE,ADMIN_FEE_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_NON_BILLABLE_DETAIL_SQ1.nextVal,1,1,'NBCCTF','NBCCAF',to_date('01-JAN-2011'),NULL,NULL,NULL,NULL,0);

INSERT INTO FMTB_NON_BILLABLE_MASTER (MASTER_NO,PYMT_TYPE,SERVICE_PROVIDER,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (2,'V',79,NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_NON_BILLABLE_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,FARE_AMOUNT_TXN_CODE,ADMIN_FEE_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_NON_BILLABLE_DETAIL_SQ1.nextVal,2,2,'NBCCTF','NBCCAF',to_date('01-JAN-2009'),NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_NON_BILLABLE_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,FARE_AMOUNT_TXN_CODE,ADMIN_FEE_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_NON_BILLABLE_DETAIL_SQ1.nextVal,2,1,'NBCCTF','NBCCAF',to_date('01-JAN-2010'),NULL,NULL,NULL,NULL,0);

INSERT INTO FMTB_NON_BILLABLE_MASTER (MASTER_NO,PYMT_TYPE,SERVICE_PROVIDER,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (3,'M',78,NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_NON_BILLABLE_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,FARE_AMOUNT_TXN_CODE,ADMIN_FEE_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_NON_BILLABLE_DETAIL_SQ1.nextVal,3,2,'NBCCTF','NBCCAF',to_date('01-JAN-2009'),NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_NON_BILLABLE_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,FARE_AMOUNT_TXN_CODE,ADMIN_FEE_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_NON_BILLABLE_DETAIL_SQ1.nextVal,3,1,'NBCCTF','NBCCAF',to_date('01-JAN-2010'),NULL,NULL,NULL,NULL,0);

INSERT INTO FMTB_NON_BILLABLE_MASTER (MASTER_NO,PYMT_TYPE,SERVICE_PROVIDER,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (4,'M',79,NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_NON_BILLABLE_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,FARE_AMOUNT_TXN_CODE,ADMIN_FEE_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_NON_BILLABLE_DETAIL_SQ1.nextVal,4,2,'NBCCTF','NBCCAF',to_date('01-JAN-2009'),NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_NON_BILLABLE_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,FARE_AMOUNT_TXN_CODE,ADMIN_FEE_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_NON_BILLABLE_DETAIL_SQ1.nextVal,4,1,'NBCCTF','NBCCAF',to_date('01-JAN-2010'),NULL,NULL,NULL,NULL,0);

INSERT INTO FMTB_NON_BILLABLE_MASTER (MASTER_NO,PYMT_TYPE,SERVICE_PROVIDER,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (5,'D',78,NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_NON_BILLABLE_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,FARE_AMOUNT_TXN_CODE,ADMIN_FEE_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_NON_BILLABLE_DETAIL_SQ1.nextVal,5,2,'NBCCTF','NBCCAF',to_date('01-JAN-2009'),NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_NON_BILLABLE_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,FARE_AMOUNT_TXN_CODE,ADMIN_FEE_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_NON_BILLABLE_DETAIL_SQ1.nextVal,5,1,'NBCCTF','NBCCAF',to_date('01-JAN-2010'),NULL,NULL,NULL,NULL,0);

INSERT INTO FMTB_NON_BILLABLE_MASTER (MASTER_NO,PYMT_TYPE,SERVICE_PROVIDER,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (6,'D',79,NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_NON_BILLABLE_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,FARE_AMOUNT_TXN_CODE,ADMIN_FEE_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_NON_BILLABLE_DETAIL_SQ1.nextVal,6,2,'NBCCTF','NBCCAF',to_date('01-JAN-2009'),NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_NON_BILLABLE_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,FARE_AMOUNT_TXN_CODE,ADMIN_FEE_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_NON_BILLABLE_DETAIL_SQ1.nextVal,6,1,'NBCCTF','NBCCAF',to_date('01-JAN-2010'),NULL,NULL,NULL,NULL,0);

INSERT INTO FMTB_NON_BILLABLE_MASTER (MASTER_NO,PYMT_TYPE,SERVICE_PROVIDER,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (7,'A',78,NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_NON_BILLABLE_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,FARE_AMOUNT_TXN_CODE,ADMIN_FEE_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_NON_BILLABLE_DETAIL_SQ1.nextVal,7,2,'NBCCTF','NBCCAF',to_date('01-JAN-2009'),NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_NON_BILLABLE_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,FARE_AMOUNT_TXN_CODE,ADMIN_FEE_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_NON_BILLABLE_DETAIL_SQ1.nextVal,7,1,'NBCCTF','NBCCAF',to_date('01-JAN-2010'),NULL,NULL,NULL,NULL,0);

INSERT INTO FMTB_NON_BILLABLE_MASTER (MASTER_NO,PYMT_TYPE,SERVICE_PROVIDER,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (8,'A',79,NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_NON_BILLABLE_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,FARE_AMOUNT_TXN_CODE,ADMIN_FEE_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_NON_BILLABLE_DETAIL_SQ1.nextVal,8,2,'NBCCTF','NBCCAF',to_date('01-JAN-2009'),NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_NON_BILLABLE_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,FARE_AMOUNT_TXN_CODE,ADMIN_FEE_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_NON_BILLABLE_DETAIL_SQ1.nextVal,8,1,'NBCCTF','NBCCAF',to_date('01-JAN-2010'),NULL,NULL,NULL,NULL,0);

INSERT INTO FMTB_NON_BILLABLE_MASTER (MASTER_NO,PYMT_TYPE,SERVICE_PROVIDER,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (9,'J',78,NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_NON_BILLABLE_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,FARE_AMOUNT_TXN_CODE,ADMIN_FEE_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_NON_BILLABLE_DETAIL_SQ1.nextVal,9,2,'NBCCTF','NBCCAF',to_date('01-JAN-2009'),NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_NON_BILLABLE_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,FARE_AMOUNT_TXN_CODE,ADMIN_FEE_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_NON_BILLABLE_DETAIL_SQ1.nextVal,9,1,'NBCCTF','NBCCAF',to_date('01-JAN-2010'),NULL,NULL,NULL,NULL,0);

INSERT INTO FMTB_NON_BILLABLE_MASTER (MASTER_NO,PYMT_TYPE,SERVICE_PROVIDER,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (10,'J',79,NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_NON_BILLABLE_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,FARE_AMOUNT_TXN_CODE,ADMIN_FEE_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_NON_BILLABLE_DETAIL_SQ1.nextVal,10,2,'NBCCTF','NBCCAF',to_date('01-JAN-2009'),NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_NON_BILLABLE_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,FARE_AMOUNT_TXN_CODE,ADMIN_FEE_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_NON_BILLABLE_DETAIL_SQ1.nextVal,10,1,'NBCCTF','NBCCAF',to_date('01-JAN-2010'),NULL,NULL,NULL,NULL,0);

INSERT INTO FMTB_NON_BILLABLE_MASTER (MASTER_NO,PYMT_TYPE,SERVICE_PROVIDER,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (11,'N',78,NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_NON_BILLABLE_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,FARE_AMOUNT_TXN_CODE,ADMIN_FEE_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_NON_BILLABLE_DETAIL_SQ1.nextVal,11,2,'NBNSTF','NBNSAF',to_date('01-JAN-2009'),NULL,NULL,NULL,NULL,0);

INSERT INTO FMTB_NON_BILLABLE_MASTER (MASTER_NO,PYMT_TYPE,SERVICE_PROVIDER,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (12,'N',79,NULL,NULL,NULL,NULL,0);
INSERT INTO FMTB_NON_BILLABLE_DETAIL (DETAIL_NO,MASTER_NO,AR_CONTROL_CODE_NO,FARE_AMOUNT_TXN_CODE,ADMIN_FEE_TXN_CODE,EFFECTIVE_DATE,CREATED_DT,CREATED_BY,UPDATED_DT,UPDATED_BY,VERSION) 
VALUES (FMTB_NON_BILLABLE_DETAIL_SQ1.nextVal,12,2,'NBNSTF','NBNSAF',to_date('01-JAN-2009'),NULL,NULL,NULL,NULL,0);

*/

/******************************************
 * drop, rename and change constraint logic
 * ****************************************/
alter table MSTB_VOL_DISC_TIER drop constraint MSCT_VOL_DISC_TIER_C1;
alter table MSTB_VOL_DISC_TIER add CONSTRAINT MSTB_VOL_DISC_TIER_C1 CHECK (START_RANGE <= END_RANGE);

/****************************
 * DOWNLOAD TRIPS TXN
 * **************************/
alter table Ittb_Trips_Txn_Error add(
	VEH_TYPE varchar2(80),
	MID varchar2(15)
);

-- Run the script if column not created for phase 2 staging
/*
alter table ITTB_TRIPS_TXN add(
	HOTEL_CHARGE_TO number(18)
);

alter table ITTB_TRIPS_TXN_ERROR add(
	HOTEL_CHARGE_TO number(18)
);
*/

/****************************
 * PROMOTION - CREATE TXN UI 
 * **************************/
--IMPORTANT NOTICE: PATCHING REQUIRED!
alter table sales TMTB_ACQUIRE_TXN column job_type to job_type_old;
alter table TMTB_ACQUIRE_TXN add(
	job_type number(8),
	vehicle_model number(8)
);
ALTER TABLE TMTB_ACQUIRE_TXN ADD CONSTRAINT TMTB_ACQUIRE_TXN_FK8 FOREIGN KEY (job_type) REFERENCES MSTB_MASTER_TABLE (master_No) ENABLE;
ALTER TABLE TMTB_ACQUIRE_TXN ADD CONSTRAINT TMTB_ACQUIRE_TXN_FK9 FOREIGN KEY (vehicle_model) REFERENCES MSTB_MASTER_TABLE (master_No) ENABLE;

--!!!!!!!!!!!!!!!!! PATCHING SCRIPT
update TMTB_ACQUIRE_TXN set job_type = (
	select master_no
	from MSTB_MASTER_TABLE
	where MASTER_TYPE = 'JT' and MASTER_VALUE = TMTB_ACQUIRE_TXN.JOB_TYPE_OLD
)
where
	JOB_TYPE_OLD is not null

alter table TMTB_TXN_REVIEW_REQ add(
	job_type number(8),
	vehicle_model number(8)
);

ALTER TABLE TMTB_TXN_REVIEW_REQ ADD CONSTRAINT TMTB_TXN_REVIEW_REQ_FK8 FOREIGN KEY (job_type) REFERENCES MSTB_MASTER_TABLE (master_No) ENABLE;
ALTER TABLE TMTB_TXN_REVIEW_REQ ADD CONSTRAINT TMTB_TXN_REVIEW_REQ_FK9 FOREIGN KEY (vehicle_model) REFERENCES MSTB_MASTER_TABLE (master_No) ENABLE;


/*************************
 * NON BILLABLE MANAGEMENT 
 * ***********************/
INSERT INTO SATB_RESOURCE (RSRC_ID,PAR_RSRC_ID,RSRC_NAME,RSRC_TYPE,URI,SEQUENCE,DISPLAY_NAME,DISPLAY,VERSION) VALUES (607,0,'Non Billable','U','Non Billable',12,'Non Billable','Y',0);
INSERT INTO SATB_RESOURCE (RSRC_ID,PAR_RSRC_ID,RSRC_NAME,RSRC_TYPE,URI,SEQUENCE,DISPLAY_NAME,DISPLAY,VERSION) VALUES (608,607,'Manage Non Billable Trips','U','/nonbillable/manage_nonbillable_batch.zul',1,'Manage Non Billable Trips','Y',0);
INSERT INTO SATB_RESOURCE (RSRC_ID,PAR_RSRC_ID,RSRC_NAME,RSRC_TYPE,URI,SEQUENCE,DISPLAY_NAME,DISPLAY,VERSION) VALUES (609,607,'View Non Billable Batch','U','/nonbillable/view_nonbillable_batch.zul',2,'View Non Billable Batch','N',0);
INSERT INTO SATB_RESOURCE (RSRC_ID,PAR_RSRC_ID,RSRC_NAME,RSRC_TYPE,URI,SEQUENCE,DISPLAY_NAME,DISPLAY,VERSION) VALUES (610,607,'Create Bank Payment Advice','U','/nonbillable/create_bank_payment_advise.zul',3,'Create Bank Payment Advice','N',0);
INSERT INTO SATB_RESOURCE (RSRC_ID,PAR_RSRC_ID,RSRC_NAME,RSRC_TYPE,URI,SEQUENCE,DISPLAY_NAME,DISPLAY,VERSION) VALUES (611,607,'Manage Bank Payment Advice','U','/nonbillable/manage_bank_payment_advise.zul',4,'Manage Bank Payment Advice','Y',0);
INSERT INTO SATB_RESOURCE (RSRC_ID,PAR_RSRC_ID,RSRC_NAME,RSRC_TYPE,URI,SEQUENCE,DISPLAY_NAME,DISPLAY,VERSION) VALUES (612,607,'Manage Chargeback','U','/nonbillable/manage_chargeback.zul',5,'Manage Chargeback','Y',0);

/************************
 * CASH VOUCHER INVENTORY 
 * **********************/
update SATB_RESOURCE set PAR_RSRC_ID = 514 where RSRC_ID = 529

/*******************
 *     INDEXES 
 * *****************/
CREATE INDEX Ittb_Trips_Txn_N1 ON Ittb_Trips_Txn(payment_Mode, setl_Date, bank_Batch_Close_No);
CREATE INDEX Ittb_Trips_Txn_N2 ON Ittb_Trips_Txn(ayment_Mode, setl_Date, bank_Batch_Close_No, mid, bank_tid);

CREATE INDEX Mstb_Acquirer_Pymt_Type_N1 ON Mstb_Acquirer_Pymt_Type(effectiveDtFrom, effectiveDtTo);
CREATE INDEX mstb_acquirer_pymt_type_N2 ON Mstb_Acquirer_Pymt_Type(acquirer_no);
CREATE INDEX mstb_acquirer_pymt_type_N3 ON Mstb_Acquirer_Pymt_Type(value);

CREATE INDEX mstb_acquirer_mdr_N1 ON mstb_acquirer_mdr(acquirer_no);
CREATE INDEX mstb_acquirer_mdr_N2 ON mstb_acquirer_mdr(effective_Date);

CREATE INDEX tmtb_non_billable_batch_N1 ON tmtb_non_billable_batch(acquirer_no);
CREATE INDEX tmtb_non_billable_batch_N2 ON tmtb_non_billable_batch(batch_No, mid, tid, settlement_Date, status);

CREATE INDEX tmtb_non_billable_txn_N1 ON tmtb_non_billable_txn(batch_id);
CREATE INDEX tmtb_non_billable_txn_N2 ON tmtb_non_billable_txn(pymt_type_no);
CREATE INDEX tmtb_non_billable_txn_N3 ON tmtb_non_billable_txn(SERVICE_PROVIDER);
CREATE INDEX tmtb_non_billable_txn_N4 ON tmtb_non_billable_txn(chargeback_reason);
CREATE INDEX tmtb_non_billable_txn_N5 ON tmtb_non_billable_txn(chargeback_type);
CREATE INDEX tmtb_non_billable_txn_N6 ON tmtb_non_billable_txn(job_type);
CREATE INDEX tmtb_non_billable_txn_N7 ON tmtb_non_billable_txn(txn_no, status, taxi_no, nric, trip_start_dt, total);
CREATE INDEX tmtb_non_billable_txn_N8 ON tmtb_non_billable_txn(status);
CREATE INDEX tmtb_non_billable_txn_N9 ON tmtb_non_billable_txn(trip_Start_Dt, total, taxi_No, nric, job_No);

CREATE INDEX BMTB_BANK_PAYMENT_N1 ON BMTB_BANK_PAYMENT(BANK_IN);
CREATE INDEX BMTB_BANK_PAYMENT_N2 ON BMTB_BANK_PAYMENT(CREDIT_DATE);
CREATE INDEX BMTB_BANK_PAYMENT_N3 ON BMTB_BANK_PAYMENT(txn_Ref_No, collection_Amount, credit_date, payment_No);

CREATE INDEX BMTB_BANK_PAYMENT_DETAIL_N1 ON BMTB_BANK_PAYMENT_DETAIL(batch_id);
CREATE INDEX BMTB_BANK_PAYMENT_DETAIL_N2 ON BMTB_BANK_PAYMENT_DETAIL(payment_no);

CREATE INDEX FMTB_NON_BILLABLE_MASTER_N1 ON FMTB_NON_BILLABLE_MASTER(SERVICE_PROVIDER);

CREATE INDEX FMTB_NON_BILLABLE_DETAIL_N1 ON FMTB_NON_BILLABLE_DETAIL(master_no);
CREATE INDEX FMTB_NON_BILLABLE_DETAIL_N2 ON FMTB_NON_BILLABLE_DETAIL(AR_CONTROL_CODE_NO);

CREATE INDEX FMTB_BANK_PAYMENT_MASTER_N1 ON FMTB_BANK_PAYMENT_MASTER(PYMT_TYPE);

CREATE INDEX FMTB_BANK_PAYMENT_DETAIL_N1 ON FMTB_BANK_PAYMENT_DETAIL(master_no);
CREATE INDEX FMTB_BANK_PAYMENT_DETAIL_N2 ON FMTB_BANK_PAYMENT_DETAIL(AR_CONTROL_CODE_NO);
CREATE INDEX FMTB_BANK_PAYMENT_DETAIL_N3 ON FMTB_BANK_PAYMENT_DETAIL(EFFECTIVE_DATE);

CREATE INDEX TMTB_ACQUIRE_TXN_N14 ON TMTB_ACQUIRE_TXN(job_type);
CREATE INDEX TMTB_ACQUIRE_TXN_N15 ON TMTB_ACQUIRE_TXN(vehicle_model);

CREATE INDEX TMTB_TXN_REVIEW_REQ_N8 ON TMTB_TXN_REVIEW_REQ(job_type);
CREATE INDEX TMTB_TXN_REVIEW_REQ_N9 ON TMTB_TXN_REVIEW_REQ(vehicle_model);

/*******************
 *     REPORTS 
 * *****************/
Insert into SATB_RESOURCE (RSRC_ID,PAR_RSRC_ID,RSRC_NAME,RSRC_TYPE,URI,SEQUENCE,DISPLAY_NAME,DISPLAY,VERSION) values (433,412,'Bank Chargeback Report','U','/report/bank_chargeback_report.zul?rsrcId=433',2,'Bank Chargeback Report','Y',0);
Insert into SATB_RESOURCE (RSRC_ID,PAR_RSRC_ID,RSRC_NAME,RSRC_TYPE,URI,SEQUENCE,DISPLAY_NAME,DISPLAY,VERSION) values (434,412,'Cashless Aging Report Detailed','U','/report/cashless_aging_report_detailed.zul?rsrcId=434',2,'Cashless Aging Report Detailed','Y',0);
Insert into SATB_RESOURCE (RSRC_ID,PAR_RSRC_ID,RSRC_NAME,RSRC_TYPE,URI,SEQUENCE,DISPLAY_NAME,DISPLAY,VERSION) values (435,412,'Cashless Aging Report Summary','U','/report/cashless_aging_report_summary.zul?rsrcId=435',2,'Cashless Aging Report Summary','Y',0);
Insert into SATB_RESOURCE (RSRC_ID,PAR_RSRC_ID,RSRC_NAME,RSRC_TYPE,URI,SEQUENCE,DISPLAY_NAME,DISPLAY,VERSION) values (436,412,'Cashless Bank Collection Summary','U','/report/cashless_bank_collection_summary.zul?rsrcId=436',2,'Cashless Bank Collection Summary','Y',0);
insert into MSTB_REPORT_FORMAT_MAP (map_no, rsrc_id, report_format) values ((select max(map_no)+1 from MSTB_REPORT_FORMAT_MAP), 433, 'PDF');
insert into MSTB_REPORT_FORMAT_MAP (map_no, rsrc_id, report_format) values ((select max(map_no)+1 from MSTB_REPORT_FORMAT_MAP), 434, 'PDF');
insert into MSTB_REPORT_FORMAT_MAP (map_no, rsrc_id, report_format) values ((select max(map_no)+1 from MSTB_REPORT_FORMAT_MAP), 435, 'PDF');
insert into MSTB_REPORT_FORMAT_MAP (map_no, rsrc_id, report_format) values ((select max(map_no)+1 from MSTB_REPORT_FORMAT_MAP), 436, 'PDF');