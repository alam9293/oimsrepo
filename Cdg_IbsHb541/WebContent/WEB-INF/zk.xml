<zk>
<!--	<system-config>-->
<!--		<disable-event-thread/>-->
<!--	</system-config>-->
 
	
	<listener>
		<description>
			ThreadLocal Synchronization Listener
		</description>
		<listener-class>
			org.zkoss.zkplus.util.ThreadLocalListener
		</listener-class>
	</listener>
	<!-- Hibernate SessionFactory lifecycle -->
	<!-- <listener>
		<description>Hibernate SessionFactory lifecycle</description>
		<listener-class>org.zkoss.zkplus.hibernate.HibernateSessionFactoryListener</listener-class>
	</listener> -->
	
	<!-- Hibernate OpenSessionInView Pattern -->
	<!-- <listener>
		<description>Hibernate Open Session In View life-cycle</description>
		<listener-class>org.zkoss.reference.developer.hibernate.web.OpenSessionInViewListener</listener-class>
	</listener> -->
	<!-- Hibernate thread session context handler -->
	<!-- <listener>
		<description>Hibernate thread session context handler</description>
		<listener-class>org.zkoss.zkplus.hibernate.HibernateSessionContextListener</listener-class>
	</listener> --> 
	<preference>
		<name>ThreadLocal</name>
		<value>
			<!-- org.hibernate.context.internal.ThreadLocalSessionContext=CONTEXT_TL; -->
			<!-- org.hibernate.context.internal.ManagedSessionContext=CONTEXT_TL; -->
			org.springframework.security.context.ThreadLocalSecurityContextHolderStrategy=contextHolder;
			org.springframework.transaction.support.TransactionSynchronizationManager=resources,synchronizations,currentTransactionName,currentTransactionReadOnly,actualTransactionActive;
   			<!-- org.hibernate.context.internal.ThreadLocalSessionContext =deferredCloseHolder; -->
   			<!-- org.zkoss.reference.developer.hibernate.web.CustomSessionFactoryUtils=deferredCloseHolder; -->
   			org.springframework.transaction.interceptor.TransactionAspectSupport=transactionInfoHolder; 
		</value>
	</preference>
	
	<device-config>
    	<device-type>ajax</device-type>    
    	<timeout-uri>/timeout.zul</timeout-uri>    
	</device-config>
	
	<!-- To turn off animation, reduce lag for low end graphics -->
	<preference>
		<name>org.zkoss.zul.Window.defaultActionOnShow</name>
		<value></value>
	</preference>
</zk>