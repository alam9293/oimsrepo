<?xml version="1.0" encoding="UTF-8"?>
<ds:datasource xmlns:ds="http://www.elixirtech.com/DataSource" name="Overpayment Refund Memo" type="JDBC" description="">
  <ds:schema case-sensitive="Yes">
    <ds:column name="PAYMENT_RECEIPT_NO" type="Double">
      <ds:attribute name="Nullable" nullable="no" />
    </ds:column>
    <ds:column name="ENTITY_NAME" type="String">
      <ds:attribute name="Nullable" nullable="no" />
    </ds:column>
    <ds:column name="FROM_USER_ID" type="String">
      <ds:attribute name="Nullable" nullable="yes" />
    </ds:column>
    <ds:column name="SUBJECT" type="String">
      <ds:attribute name="Nullable" nullable="yes" />
    </ds:column>
    <ds:column name="RECEIPT_DT" type="Timestamp">
      <ds:attribute name="Nullable" nullable="no" />
    </ds:column>
    <ds:column name="ACCOUNT_NAME" type="String">
      <ds:attribute name="Nullable" nullable="yes" />
    </ds:column>
    <ds:column name="PAYMENT_AMOUNT" type="Double">
      <ds:attribute name="Nullable" nullable="no" />
    </ds:column>
    <ds:column name="CHEQUE_NO" type="String">
      <ds:attribute name="Nullable" nullable="yes" />
    </ds:column>
  </ds:schema>
  <ds:security />
  <ds:jdbc connection-type="POOL" connection-pool="/IBS_Reports/ConnectionPool/IBS Connection Pool.pool" connection-pool-timeout="0" callable-statement="No" connection-reuse="0" nulls-to-strings="No" read-only="Yes" auto-commit="Yes">
    <ds:sql>select 
  bpr.payment_receipt_no,
  fem.entity_name,
  'IBS (' || bpr.created_by || ')' from_user_id,
  'Cheque Issuance for Overpayment Refund, Receipt â€“ ' || excess.payment_receipt_no subject,
  bpr.receipt_dt,  
  aa.account_name,
  bpr.payment_amount,
  bpr.cheque_no
from bmtb_payment_receipt bpr
inner join amtb_account aa using(account_no)
inner join fmtb_ar_cont_code_master faccm using(AR_CONTROL_CODE_NO)
inner join fmtb_entity_master fem using(ENTITY_NO)
inner join bmtb_payment_receipt excess on excess.MEMO_RECEIPT_NO = bpr.payment_receipt_no
where 
  bpr.payment_receipt_no = ${paymentReceiptNo}</ds:sql>
  </ds:jdbc>
</ds:datasource>

