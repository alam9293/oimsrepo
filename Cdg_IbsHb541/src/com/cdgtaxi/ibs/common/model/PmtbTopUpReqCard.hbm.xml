<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- Generated Mar 6, 2014 6:57:49 PM by Hibernate Tools 3.4.0.CR1 -->
<hibernate-mapping>
    <class name="com.cdgtaxi.ibs.common.model.PmtbTopUpReqCard" table="PMTB_TOP_UP_REQ_CARD">
        <id name="reqCardNo" type="java.math.BigDecimal">
            <column name="REQ_CARD_NO" />
            <generator class="com.cdgtaxi.ibs.common.generator.BigDecimalSequenceGenerator">
           	 <param name="sequence_name">PMSQ_TOP_UP_REQ_CARD</param>
        	</generator>
        </id>
        <property name="topUpFee" type="java.math.BigDecimal">
            <column name="TOP_UP_FEE" />
        </property>
        <property name="waiveTopUpFeeFlag" type="java.lang.String">
            <column name="WAIVE_TOP_UP_FEE_FLAG" />
        </property>
        <property name="newBalanceExpiryDate" type="java.util.Date">
            <column name="NEW_BALANCE_EXPIRY_DATE" />
        </property>
        <property name="topUpValue" type="java.math.BigDecimal">
            <column name="TOP_UP_VALUE" />
        </property>
        <property name="topUpCashplus" type="java.math.BigDecimal">
            <column name="TOP_UP_CASHPLUS" />
        </property>
      
        <many-to-one name="pmtbTopUpReq" class="com.cdgtaxi.ibs.common.model.PmtbTopUpReq" fetch="join">
            <column name="PMTB_TOP_UP_REQ" />
        </many-to-one>
        
        <many-to-one name="pmtbProduct" class="com.cdgtaxi.ibs.common.model.PmtbProduct" fetch="join">
            <column name="PMTB_PRODUCT" />
        </many-to-one>
        <set
	        name="mstbPromotionCashPluses"
	        table="PMTB_TOP_UP_REQ_CARD_PROMOTION" 
	        lazy="true"
	        inverse="false"
			cascade="all"
   		 >
	        <key>
	            <column name="PMTB_TOP_UP_REQ_CARD" />
	        </key>
	        <many-to-many entity-name="com.cdgtaxi.ibs.master.model.MstbPromotionCashPlus">
                <column name="MSTB_PROMOTION_CASH_PLUS" not-null="true" />
            </many-to-many>
    	</set>
    	<set
	        name="bmtbTopUpInvoiceTxns"
	        lazy="true"
	        inverse="true"
			cascade="all"
	    >
	        <key>
	            <column name="PMTB_TOP_UP_REQ_CARD" />
	        </key>
	        <one-to-many 
	            class="com.cdgtaxi.ibs.common.model.BmtbTopUpInvoiceTxn"
	        />
	    </set>
    </class>
</hibernate-mapping>
